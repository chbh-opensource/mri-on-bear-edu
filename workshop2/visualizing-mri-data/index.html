
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://chbh-opensource.github.io/mri-on-bear-edu/workshop2/visualizing-mri-data/">
      
      
        <link rel="prev" href="../mri-data-formats/">
      
      
        <link rel="next" href="../../workshop3/workshop3-intro/">
      
      
      <link rel="icon" href="../../assets/images/chbh_logo.jpg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>MRI data visualization with FSLeyes - MRI on BEAR</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=SF+Pro+Display:300,300i,400,400i,700,700i%7CSF+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"SF Pro Display";--md-code-font:"SF Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="pink">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mri-data-visualization-with-fsleyes" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="MRI on BEAR" class="md-header__button md-logo" aria-label="MRI on BEAR" data-md-component="logo">
      
  <img src="../../assets/images/chbh_logo.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MRI on BEAR
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              MRI data visualization with FSLeyes
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/chbh-opensource/mri-on-bear-edu" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    MRI-on-BEAR
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
<nav class="md-nav md-nav--primary" aria-label="nav.title">
  <div class="md-nav__logo">
    <img src="../../assets/images/chbh_logo.jpg" alt="MRI on BEAR">
  </div>
  
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="MRI on BEAR" class="md-nav__button md-logo" aria-label="MRI on BEAR" data-md-component="logo">
      
  <img src="../../assets/images/chbh_logo.jpg" alt="logo">

    </a>
    MRI on BEAR
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/chbh-opensource/mri-on-bear-edu" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    MRI-on-BEAR
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setting-up/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Accessing BlueBEAR and the BEAR Portal
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Workshop 1 - Introduction to BlueBEAR and Linux
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Workshop 1 - Introduction to BlueBEAR and Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop1/workshop1-intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workshop 1 - Aims and objectives
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop1/intro-to-bluebear/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction to the BlueBEAR Portal
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop1/intro-to-linux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction to Linux
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Workshop 2 - Basic MRI skills
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Workshop 2 - Basic MRI skills
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workshop2-intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workshop 2 - Aims and objectives
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mri-data-formats/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Working with MRI Data - Files and Formats
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    MRI data visualization with FSLeyes
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    MRI data visualization with FSLeyes
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#getting-started-with-fsleyes" class="md-nav__link">
    <span class="md-ellipsis">
      Getting started with FSLeyes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#atlas-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Atlas tools
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-atlas-tools-to-find-a-brain-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Using atlas tools to find a brain structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-atlas-tools-to-create-a-region-of-interest-mask" class="md-nav__link">
    <span class="md-ellipsis">
      Using atlas tools to create a region-of-interest mask
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Workshop 3 - Basic diffusion MRI analysis
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Workshop 3 - Basic diffusion MRI analysis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop3/workshop3-intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workshop 3 - Aims and objectives
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop3/diffusion-intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Diffusion MRI basics - visualization and preprocessing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop3/diffusion-mri-analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Diffusion tensor fitting and Tract-Based Spatial Statistics
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Workshop 4 - Advanced diffusion MRI analysis
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Workshop 4 - Advanced diffusion MRI analysis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop4/workshop4-intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workshop 4 - Aims and objectives
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop4/probabilistic-tractography/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Probabilistic tractography
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Workshop 5 - First-level fMRI analysis
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Workshop 5 - First-level fMRI analysis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop5/workshop5-intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workshop 5 - Aims and objectives
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop5/preprocessing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting brain extraction with BET
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop5/first-level-analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running the first-level analysis
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Workshop 6 - Scripts, containers and running jobs on the cluster
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Workshop 6 - Scripts, containers and running jobs on the cluster
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop6/workshop6-intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workshop 6 - Aims and objectives
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop6/running-containers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scripting analyses, running jobs on the cluster and working with containers
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Workshop 7 - Higher-level fMRI analysis
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Workshop 7 - Higher-level fMRI analysis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop7/workshop7-intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workshop 7 - Aims and objectives
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop7/higher-level-analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running the higher-level analysis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop7/advanced-fmri-tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced fMRI analysis tools
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Workshop 8 - Functional connectivity
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Workshop 8 - Functional connectivity
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop8/functional-connectivity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functional connectivity analysis of resting-state fMRI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Additional Resources
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributors
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
</nav>

          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                

                  


  
  


<h1 id="mri-data-visualization-with-fsleyes">MRI data visualization with FSLeyes<a class="headerlink" href="#mri-data-visualization-with-fsleyes" title="Permanent link">&para;</a></h1>
<p><b>FSL (FMRIB Software Library) is a comprehensive neuroimaging software library for the analysis of structural and functional MRI data.</b> FSL is widely used, freely available, runs on both Linux and Mac OS as well as on Windows via a Virtual Machine. </p>
<p><b>FSLeyes is the FSL viewer for 3D and 4D data.</b> FSLeyes is available on BlueBEAR, but you need to load it first. You can just load FSLeyes as a standalone software, but as it is often used with other FSL tools, you often want to load both (FSL and FSLeyes). </p>
<p>In this session we will only be loading FSLeyes by itself, and not with FSL.</p>
<div class="admonition info">
<p class="admonition-title">FSL Wiki</p>
<p>Remember that the <a href="https://fsl.fmrib.ox.ac.uk/fsl/docs/#/">FSL Wiki</a> is an important source for all things FSL!</p>
</div>
<h2 id="getting-started-with-fsleyes">Getting started with FSLeyes<a class="headerlink" href="#getting-started-with-fsleyes" title="Permanent link">&para;</a></h2>
<p>Assuming that you have started directly from the previous page, first close your previous terminal (to close <code>dcm2nii</code>). Then open a new terminal and to navigate to the correct folder, type in your terminal:</p>
<p><code>cd /rds/projects/c/chechlmy-chbh-mricn/xxx/CHBH</code></p>
<p>To open FSLeyes, type:</p>
<p><code>module load FSL/6.0.5.1-foss-2021a-fslpython</code></p>
<p>There are different versions of FSL on BlueBEAR, however this is the one which you need to use it together with FSLeyes.</p>
<p>Wait for FSL to load and then type:</p>
<p><code>module load FSLeyes/1.3.3-foss-2021a</code></p>
<p>Again, wait for FSLeyes to load (it may take a few minutes). After this, to open FSLeyes, type in your terminal:</p>
<p><code>fsleyes &amp;</code></p>
<div class="admonition question">
<p class="admonition-title">The importance of '&amp;'</p>
<p>Why do we type <code>fsleyes &amp;</code> instead of <code>fsleyes</code>?</p>
</div>
<p><br>
You should then see the setup below, which is the default FSLeyes viewer without an image loaded.</p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/fsleyes_default.png" alt="FSLeyes default" width="800" height="300">
</p>

<p>You can now load/open an image to view. Click 'File' → 'Add from file' (and then select the file in your directory e.g., <code>rds/projects/c/chechlmy-chbh-mricn/xxx/CHBH/visualization/T1.nii</code>).</p>
<p>You can also type directly in the terminal:</p>
<p><code>fsleyes file.nii.gz</code> </p>
<p>where you replace <code>file.nii.gz</code> with the name of the actual file you want to open. </p>
<p>However, you will need to include the full path to the file if you are not in the same directory when you open the terminal window e.g. <code>fsleyes rds/projects/c/chechlmy-chbh-mricn/xxx/CHBH/visualization/T1.nii</code></p>
<p>You should now see a T1 scan loaded in ortho view with three canvases corresponding to the sagittal, coronal, and axial planes.</p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/fsleyes_t1.png" alt="FSLeyes T1" width="900" height="300">
</p>

<p>Please now explore the various settings in the ortho view panel:</p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/ortho_panel.png" alt="Ortho Panel" width="700" height="300">
</p>

<p>Also notice the abbreviations on the three canvases:</p>
<ul>
<li>L/R: Left/Right</li>
<li>S/I: Superior/Inferior</li>
<li>A/P: Anterior/Posterior</li>
</ul>
<p>FSL comes with a collection of <b>NIFTI standard templates</b>, which are used for image registration and normalisation (part of MRI data analysis). You can also load these templates in FSLeyes.</p>
<p>To load a template, Click 'File' → 'Add Standard' (for example select the file named <code>MNI152_T1_2mm.nii.gz</code>. If you still have the <code>T1.nii</code> image open, first close this image (by selecting 'Overlay' → 'Remove') and then load the template.</p>
<p>The image below depicts the various tools that you can use on FSLeyes, give them a go!</p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/fsleyes_gui.png" alt="FSLeyes GUI" width="900" height="300">
</p>

<p><br>
We will now look at fMRI data. First close the previous image ('Overlay' → 'Remove') and then load the fMRI image. To do this, click 'File' → 'Add from file'  and then select the file <code>rds/projects/c/chechlmy-chbhmricn/xxx/CHBH/visualization2.5mm_2000_fMRI.nii.gz</code>.</p>
<p>Your window should now look like this:</p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/fsleyes_fmri.png" alt="FSLeyes fMRI" width="800" height="300">
</p>

<p><b>Remember this fMRI data file is a 4D image</b> – a set of 90-odd volumes representing a timeseries. To cycle through volumes, use the up/down buttons or type in a volume in the 'Volume' box to step through several volumes.</p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/fsleyes_arrows.png" alt="FSLeyes arrow" width="500" height="300">
</p>

<p>Now try playing the 4D file in 'Movie' mode by clicking this button. You should see some slight head movement over time. Click the button again to stop the movie.</p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/fsleyes_movie.png" alt="FSLeyes movie" width="500" height="300">
</p>

<p>As the fMRI data is 4D, this means that every voxel in the 3D-brain has a timecourse associated with it. Let's now have a look at this. </p>
<p>Keeping the same dataset open (<code>2.5mm_2000_fMRI.nii.gz</code>) and now in the FSLeyes menu, select 'View' → 'Time series'. </p>
<p>FSLeyes should now look like the picture below. </p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/fsleyes_timeseries.png" alt="FSLeyes timeseries" width="900" height="300">
</p>

<div class="admonition info">
<p class="admonition-title">What exactly are we looking at?</p>
<p>The functional image displayed here is the data straight from the scanner, i.e., raw, un-preprocessed data that has not been analyzed. In later workshops we will learn how to view analyzed data e.g., display statistical maps etc. </p>
</div>
<p>You should see a timeseries shown at the bottom of the screen corresponding to the voxel that is selected in the main viewer. Move the mouse to select other voxels to investigate how variable the timecourse is. </p>
<p>Within the timeseries window, hit the '+' button to show the 'Plot List' characteristics for this timeseries.</p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/timeseries_plus_button.png" alt="FSLeyes timeseries plus button" width="700" height="300">
</p>

<p>Compare the timeseries in different parts of the brain, just outside the brain (skull and scalp), and in the airspace outside the skull. <b>You should observe that these have very different mean intensities.</b></p>
<p>The timeseries of multiple different voxels can be compared using the '+' button. Hit '+' and then select a new voxel. Characteristics of the timeseries such as plotting colour can also be changed using the buttons on the lower left of the interface.</p>
<h2 id="atlas-tools">Atlas tools<a class="headerlink" href="#atlas-tools" title="Permanent link">&para;</a></h2>
<p>FSL comes not only with a collection of NIFTI standard templates but also with several built-in atlases, both probabilistic and histological (anatomical), comprising cortical, sub-cortical, and white matter parcellations. 
You can explore the full list of included atlases <a href="https://open.win.ox.ac.uk/pages/fsl/fsleyes/fsleyes/userdoc/atlases.html">here</a>.</p>
<p>We will now have a look at some of these atlases. </p>
<p>Firstly, close all open files in FSLeyes (or close FSLeyes altogether and start it up again in your terminal by running <code>fsleyes &amp;</code>).</p>
<p>In the FSLeyes menu, select 'File' → 'Add Standard' and then choose the file called <code>MNI152_T1_2mm.nii.gz</code>  (this is a template brain in MNI space).</p>
<div class="admonition info">
<p class="admonition-title">The MNI152 atlas</p>
<p>Remember that the MNI152 atlas is a standard brain template created by averaging 152 MRI scans of healthy adults widely used as a reference space in neuroimaging research.</p>
</div>
<p>Now select from the menu 'Settings' → 'Ortho View 1' and tick the box for 'Atlases' at the bottom.</p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/settings_dropdown.png" alt="Settings dropdown" width="500" height="300">
</p>

<p>You should now see the 'Atlases' panel open as shown below.  </p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/fsleyes_atlas_gui.png" alt="FSLeyes atlas GUI" width="1000" height="300">
</p>

<p>The 'Atlases' panel is organized into three sections: </p>
<ul>
<li>Atlas information</li>
<li>Atlas search</li>
<li>Atlas management</li>
</ul>
<p>The 'Atlas information' tab provides information about the current display location, relative to one or more atlases selected in this tab. We will soon see how to use this information.</p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/atlas_information.png" alt="Atlas Information" width="900" height="300">
</p>

<p>The 'Atlas search' tab can be used to search for specific regions by browsing through the atlases. We will later look how to use this tab to create region-of-interest (ROI) masks. </p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/atlas_search.png" alt="Atlas Search" width="900" height="300">
</p>

<p>The 'Atlas management' tab can be used to add or delete atlases. This is an advanced feature, and we will not be using it during our workshops.</p>
<p>We will now have a look at how to work with FSL atlases. First we need to choose some atlases to reference. In the 'Atlases' → 'Atlas Information' window (bottom of screen in middle panel) make sure the following are ticked: </p>
<ul>
<li>Harvard-Oxford Cortical Structural Atlas</li>
<li>Harvard-Oxford Subcortical Structural Atlas</li>
<li>Juelich Histological Atlas</li>
<li>Talairach Daemon Labels</li>
</ul>
<p>Now let's select a point in the standard brain. Move the cursor to the voxel position: <strong>[x=56, y=61, z=27]</strong> or enter the voxel location in the 'Location' window (2nd column). </p>
<div class="admonition note">
<p class="admonition-title">MNI Co-ordinate Equivalent</p>
<p>Note that the equivalent MNI coordinates (shown in the 1st column/Location window) are <strong>[-22,-4,-18]</strong>.</p>
</div>
<p>It may not be immediately obvious what part of the brain you are looking at. Look at the 'Atlases' window. The report should say something like:</p>
<div class="codehilite"><pre><span></span><code>Harvard-Oxford<span class="w"> </span>Cortical<span class="w"> </span>Structural<span class="w"> </span>Atlas<span class="w"> </span>
Harvard-Oxford<span class="w"> </span>Subcortical<span class="w"> </span>Structural<span class="w"> </span>Atlas<span class="w"> </span>
<span class="m">98</span>%<span class="w"> </span>Left<span class="w"> </span>Amygdala
</code></pre></div>

<div class="admonition question">
<p class="admonition-title">Checking the brain region with other atlases</p>
<p>What do the Juelich Histological Atlas &amp; Talairach Daemon Labels report?</p>
</div>
<p>The Harvard-Oxford and Juelich are both probabilistic atlases. <b>They report the percentage likelihood that the area named matches the point where the cursor is.</b> </p>
<p>The Talairach Atlas is a simpler labelling atlas. It is based on a single brain (of a 60-year-old French woman) and is an example of a deterministic atlas. <b>it reports the name of the nearest label to the cursor coordinates.</b> </p>
<p>From the previous reports, particularly the Harvard-Oxford Subcortical Atlas and the Juelich Atlas, it should be obvious that we are most likely in the left amygdala. </p>
<p>Now click the '(Show/Hide)' link after the Left Amygdala result (as shown below):</p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/show_amygdala.png" alt="Show Amygdala" width="900" height="300">
</p>

<p>This shows the (max) volume that the probabilistic Harvard-Oxford Subcortical Atlas has encoded for the Left Amygdala. The cursor is right in the middle of this volume.</p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/amygdala_roi.png" alt="Amygdala ROI" width="900" height="300">
</p>

<p>In the 'Overlay list' click and select the top amygdala overlay. You will note that the min/max ranges are set to 0 and 100. If it’s not, change it to 0 and 100. <b>These reflect the % likelihood of the labelling being correct.</b></p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/roi_thresholding.png" alt="Amygdala ROI" width="700" height="300">
</p>

<p>If you increase the min value from 0% to 50%, then you will see the size of the probability volume for the left amygdala will decrease. </p>
<p><b>It now shows only the volume where there is a 50% or greater probability that this label is correct.</b></p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/roi_thresholding_50.png" alt="Amygdala ROI" width="700" height="300">
</p>

<p>Click the (Show/Hide) link after the Left Amygdala; the amygdala overlay will disappear.</p>
<div class="admonition example">
<p class="admonition-title">Exercise: Coordinate Localization</p>
<p>Have a go at localizing exactly what the appropriate label is for these coordinates: </p>
<ul>
<li>Voxel coordinates <strong>[40, 51, 40]</strong> or MNI <strong>[10, -24, 8]</strong></li>
<li>Voxel coordinates <strong>[40, 51, 40]</strong> or MNI <strong>[10, -24, 8]</strong></li>
<li>Voxel coordinates <strong>[65, 29, 20]</strong> or MNI <strong>[-41, -68, -32]</strong></li>
</ul>
<p>If unsure check your results with someone else, or ask for help! </p>
</div>
<div class="admonition warning">
<p class="admonition-title">Before continuing</p>
<p>Make sure all overlays are closed (but keep the <code>MNI152_T1_2mm.nii.gz</code> open) before moving to the next section.</p>
</div>
<h2 id="using-atlas-tools-to-find-a-brain-structure">Using atlas tools to find a brain structure<a class="headerlink" href="#using-atlas-tools-to-find-a-brain-structure" title="Permanent link">&para;</a></h2>
<p><b>It is often helpful to locate where a specific structure is in the brain and to visually assess its size and extent.</b></p>
<p>Let's suppose we want to visualize where <a href="https://radiopaedia.org/articles/heschls-gyrus-1?lang=gb">Heschl's Gyrus</a> is. In the bottom 'Atlases' window, click on the second tab ('Atlas search').</p>
<p>In the Search box, start typing the word 'Heschl…'. You should find that the system quickly locates an entry for Heschl's Gyrus in the Harvard-Oxford Cortical Atlas. Click on it to select.</p>
<p>Now if you now the tick box immediately below next to the Heschl's Gyrus, an overlay will be added to the 'Overlay' list on the bottom (see below). Heschl's Gyrus should now be visible in the main image viewer. </p>
<p>Now click on the '+' button next to the tick box. This will centre the viewing coordinates to be in the middle of the atlas volume (see below).</p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/heschls_gyrus.png" alt="Heschls Gyrus" width="900" height="300">
</p>

<div class="admonition example">
<p class="admonition-title">Exercise: Atlas visualization</p>
<p>Now try the following exercises for yourself: </p>
<ul>
<li><b>Remove the Heschl's Gyrus visualization.</b> You can tick it off in the 'Atlases' window, or select Heschl's Gyrus in the 'Overlay list' window, and then either toggle its visibility off (click the eye icon) or remove it ('Menu' → 'Overlay' → 'Remove').</li>
<li><b>Visualize the Lingual Gyrus and Left Hippocampus.</b> To avoid confusion, change the colour of the Lingual Gyrus visualization from red/yellow to green and Left Hippocampus to blue.</li>
</ul>
</div>
<p>You can change the colour of the overlays by selecting the option below:</p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/fsleyes_colour.png" alt="FSLeyes colour" width="500" height="300">
</p>

<p>Other options also exist to help you navigate the brain and recognize the different brain structures and their relative positions. </p>
<p>Make sure you have firstly closed/removed all previous overlays. Now, select the 'Atlas Search' tab in the 'Atlases' window again. 
This time, in the left panel listing different atlases, tick on the option for only one of the atlases, such as the Harvard-Oxford Cortical Structural Atlas, and make sure all others are unticked. </p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/harvard_oxford.png" alt="Harvard Oxford" width="800" height="300">
</p>

<p>Now you should see all of the areas covered by the Harvard-Oxford cortical atlas shown on the standard brain. You can click around with the cursor, the labels for the different areas can be seen in the bottom right panel.</p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/harvard_oxford_atlas.png" alt="Harvard Oxford Atlas" width="900" height="300">
</p>

<p>In addition to atlases covering various grey matter structures, <b>there are also two white matter atlases</b>: the JHU ICBM-DTI-81 white-matter labels atlas &amp; JHU white-matter tractography atlas. 
If you tick (select) these atlases as per previous instructions (hint using the 'Atlas search' tab), you will see a list of all included white matter tracts (pathways) as shown below:</p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/jhu_atlas.png" alt="JHU Atlas" width="900" height="300">
</p>

<h2 id="using-atlas-tools-to-create-a-region-of-interest-mask">Using atlas tools to create a region-of-interest mask<a class="headerlink" href="#using-atlas-tools-to-create-a-region-of-interest-mask" title="Permanent link">&para;</a></h2>
<p><b>You can also use atlas tools in FSLeyes to not only locate specific brain structures but also to create masks for ROI (region-of-interest) analysis.</b> We will now create ROI masks (one grey matter mask and one white matter) using FSL tools and built-in atlases.</p>
<p>To start, please close 'FSLeyes' entirely, either by clicking 'x' in the right corner of the FSLeyes window or by selecting 'FSLeyes' → 'Close'. Then close your current terminal and open a new terminal window. </p>
<p>Then do the following:</p>
<ul>
<li>Navigate to your project directory and make a new directory called <code>ROImasks</code>. Navigate into this directory. </li>
<li>Then load <code>fsl</code> and open FSLeyes in the background.</li>
</ul>
<p>Here are the commands to do this:</p>
<div class="codehilite"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/rds/projects/c/chechlmy-chbh-mricn/xxx/
mkdir<span class="w"> </span>ROImasks
<span class="nb">cd</span><span class="w"> </span>ROImasks
module<span class="w"> </span>load<span class="w"> </span>FSL/6.0.5.1-foss-2021a-fslpython<span class="w"> </span>
module<span class="w"> </span>load<span class="w"> </span>FSLeyes/1.3.3-foss-2021a
fsleyes<span class="w"> </span><span class="p">&amp;</span><span class="w"> </span>
</code></pre></div>

<p>Wait for FSLeyes to load, then:</p>
<ul>
<li>Load the MNI template by clicking 'File' → 'Add Standard' → 'MNI152_T1_2mm' and open the 'Atlases' panel. </li>
<li>Go to the 'Atlas search' tab, select the 'Harvard Oxford Cortical Atlas' and tick the 'Middle Frontal Gyrus' (from the list below 'Search' box) to add overlay to the 'Overlay list'. </li>
<li>Select the 'Middle Frontal Gyrus' (<code>harvardoxford-cortical_prob_Middle_Frontal_Gyrus</code>) from the 'Overlay' list and save it in your <code>ROImasks</code> directory as <code>MFG</code> (select 'Overlay' → 'Save' → Name: MFG).</li>
</ul>
<p>You should now see the MFG overlay in the overlay list (as below) and have a <code>MFG.nii.gz</code> file in the <code>ROImasks</code> directory. You can check this by typing <code>ls</code> in the terminal.</p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/mfg_roi.png" alt="MFG ROI" width="900" height="300">
</p>

<p>We will now create a white matter mask. Here are the steps:</p>
<ul>
<li>First, remove the MFG overlay ('Menu' → 'Overlay' → 'Remove').</li>
<li>Then go to the 'Atlas search' tab, and select the 'JHU white-matter tractography' atlas and tick the 'Forceps minor' (from the list below 'Search' box) to add overlay to the 'Overlay' list. </li>
<li>Finally, select the added 'Forceps minor' overlay from the 'Overlay' list and save it in your <code>ROImasks</code> directory as FM ('Overlay' → 'Save' → Name: FM). </li>
</ul>
<p>You should now see the FM overlay in the overlay list (as below) and also have a <code>FM.nii.gz</code> file in the <code>ROImasks</code> directory. </p>
<p align="center">
  <img src="../../assets/images/workshop2/visualizing-mri-data/forceps_roi.png" alt="MFG ROI" width="900" height="300">
</p>

<p>You now have two “probabilistic ROI masks”. To use these masks for various analyses, you need to first binarize these images.</p>
<div class="admonition question">
<p class="admonition-title">Why binarize?</p>
<p>Why do you think we need to binarize the mask first? There are several reasons, but primarily it creates clear boundaries between regions which simplifies our statistical analysis and reduces computation.</p>
</div>
<p>To do this, first close FSLeyes. Make sure that you are in the <code>ROImasks</code> directory and check if you have the two masks. 
If you type <code>pwd</code> in the terminal, you should get the output <code>rds/projects/c/chechlmy-chbh-mricn/xxx/ROImasks</code> (where XXX=your ADF username) and when you type <code>ls</code>, you should see <code>FM.nii.gz</code> and <code>MFG.nii.gz</code>.</p>
<p>To binarize the masks, you can use one of the FSL tools for image manipulation, <code>fslmaths</code>. The basic structure of an <code>fslmaths</code> command is: </p>
<p><code>fslmaths input image [modifiers/options] output</code></p>
<p>Type in your terminal:</p>
<div class="codehilite"><pre><span></span><code>fslmaths<span class="w"> </span>FM.nii.gz<span class="w"> </span>-bin<span class="w"> </span>FM_binary
fslmaths<span class="w"> </span>MFG.nii.gz<span class="w"> </span>-bin<span class="w"> </span>MFG_binary
</code></pre></div>

<p>This simply takes your ROI mask, binarizes it and saves the binarized mask with the <code>_binary</code> name.</p>
<p><b>You should now have 4 files in the ROImasks directory.</b></p>
<p>Now open FSLeyes and examine one of the binary masks you just created. First load a template (Click 'File' → 'Add Standard' → 'MNI152_T1_2mm') and add the binary mask (e.g., Click 'File' → 'Add from file' → 'FM_binary.nii.gz'). </p>
<p>You can see the difference between the probabilistic and binarized ROI masks below:</p>
<div style="display: flex; justify-content: center; gap: 20px;">
   <div style="text-align: center;">
       <p><strong>Probabilistic ROI mask</strong></p>
       <img src="../../assets/images/workshop2/visualizing-mri-data/probabilistic_roi_mask.png" alt="Probabilistic ROI Mask" width="500" height="300">
   </div>
   <div style="text-align: center;">
       <p><strong>Binary ROI mask</strong></p>
       <img src="../../assets/images/workshop2/visualizing-mri-data/binary_roi_mask.png" alt="Binary ROI Mask" width="500" height="300">
   </div>
</div>

<p><b>To use ROI masks in your analysis, you might also need to threshold it</b> i.e., to change/restrict the probability of the volume. We previously did this for the amygdala manually (e.g., from 0-100% to 50%-100%). 
The choice of the threshold might depend on the type of analysis and the type of ROI mask you need to use. The instructions below explain how to threshold and binarize your ROI image in one single step using <code>fslmaths</code>.</p>
<p>Open your terminal and make sure that you are in the <code>ROImasks</code> directory (<code>pwd</code>). To both threshold and binarize the MFG mask, type:</p>
<p><code>fslmaths MFG.nii.gz -thr 25 -bin MFGthr_binary</code></p>
<p>(option <code>-thr</code> is used to threshold the image below a specific number, in this case 25 corresponding to 25% probability)</p>
<p>Now let's compare the thresholded and unthresholded MFG binarized masks.</p>
<ul>
<li>Go back to FSLeyes and add the unthresholded MFG binary mask (e.g., Click 'File' → 'Add from file' → 'MFG_binary.nii.gz'). </li>
<li>Add the second, thresholded and binarized MFG mask (<code>MFGthr_binary.nii.gz</code>), and to avoid confusion, change the colour of the second mask to blue. You can either toggle its visibility on and off (click the eye icon) to compare mask or use the 'Opacity' button. </li>
</ul>
<p>You can see the difference in size between the two below:</p>
<div style="display: flex; justify-content: center; gap: 20px;">
   <div style="text-align: center;">
       <p><strong>Binarized MFG mask</strong></p>
       <img src="../../assets/images/workshop2/visualizing-mri-data/mfg_bin.png" alt="MFG Binarized" width="500" height="300">
   </div>
   <div style="text-align: center;">
       <p><strong>Binarized and thresholded MFG mask</strong></p>
       <img src="../../assets/images/workshop2/visualizing-mri-data/mfg_bin_thr.png" alt="MFG Binarized and Thresholded" width="500" height="300">
   </div>
</div>

<div class="admonition example">
<p class="admonition-title">Exercise: Atlases and masks</p>
<p>Have a go at the following exercises:</p>
<ul>
<li>Explore different atlases to localize various cortical, subcortical or white matter structures (take inspiration from your MSc project, recent papers or seminars)</li>
<li>Using atlas tools, create binary (un-thresholded) masks for the left and right Superior longitudinal fasciculus (hint: use JHU white-matter tractography atlas)</li>
<li>Using atlas tools, create binary and thresholded (at different levels of probability 5, 25 and 75%) masks for the right thalamus (hint: use Harvard-Oxford Subcortical Structural Atlas)</li>
</ul>
<p>If unsure, check your results with someone else or ask for help!</p>
</div>
<div class="admonition info">
<p class="admonition-title">Workshop 2: Further Reading and Reference Material</p>
<p>FSLeyes is not the only MRI visualization tool available. Here are some others:</p>
<ul>
<li>fslview (older version of FSL viewer) </li>
<li><a href="https://www.nitrc.org/plugins/mwiki/index.php/mricrogl:MainPage">MRIcroGL</a> (for high quality images)</li>
<li><a href="https://afni.nimh.nih.gov/">AFNI</a> - Analysis of Functional NeuroImages</li>
<li>Mango/Papaya</li>
</ul>
<p>More details of what is available on BEAR at the CHBH can be found at the <a href="https://chbh-opensource.github.io/chbh-on-bear/">BEAR Technical Docs website</a>.</p>
</div>












                


    <nav class="md-footer-nav md-grid" aria-label="Footer">
      <div class="md-footer-nav__inner">
        
          <a href="../mri-data-formats/" class="md-footer-nav__link md-footer-nav__link--prev">
            <span class="md-footer-nav__direction">
              Previous
            </span>
            <div class="md-footer-nav__title">
              Working with MRI Data - Files and Formats
            </div>
          </a>
        
        
          <a href="../../workshop3/workshop3-intro/" class="md-footer-nav__link md-footer-nav__link--next">
            <span class="md-footer-nav__direction">
              Next
            </span>
            <div class="md-footer-nav__title">
              Workshop 3 - Aims and objectives
            </div>
          </a>
        
      </div>
    </nav>



              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/chbh-on-bear" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/TheCHBH" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://gitlab.com/ajquinn" target="_blank" rel="noopener" title="gitlab.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="m503.5 204.6-.7-1.8-69.7-181.78c-1.4-3.57-3.9-6.59-7.2-8.64-2.4-1.55-5.1-2.515-8-2.81s-5.7.083-8.4 1.11c-2.7 1.02-5.1 2.66-7.1 4.78-1.9 2.12-3.3 4.67-4.1 7.44l-47 144H160.8l-47.1-144c-.8-2.77-2.2-5.31-4.1-7.43-2-2.12-4.4-3.75-7.1-4.77a18.1 18.1 0 0 0-8.38-1.113 18.4 18.4 0 0 0-8.04 2.793 18.1 18.1 0 0 0-7.16 8.64L9.267 202.8l-.724 1.8a129.57 129.57 0 0 0-3.52 82c7.747 26.9 24.047 50.7 46.447 67.6l.27.2.59.4 105.97 79.5 52.6 39.7 32 24.2c3.7 1.9 8.3 4.3 13 4.3s9.3-2.4 13-4.3l32-24.2 52.6-39.7 106.7-79.9.3-.3c22.4-16.9 38.7-40.6 45.6-67.5 8.6-27 7.4-55.8-2.6-82"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.top", "toc.integrate", "search.suggest", "search.highlight"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>